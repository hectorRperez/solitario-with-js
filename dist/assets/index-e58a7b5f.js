(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();(()=>{let n=[],c=["C","D","H","S"],i=["A","J","K","Q"],a=[];const r=document.querySelector("#btnPedirCarta"),o=document.querySelector("#btnDetenerCarta"),s=document.querySelectorAll("small"),p=document.querySelectorAll(".jugador"),m=document.querySelector("#btnIniciarJuego"),y=(t=2)=>{h();for(let e=0;e<t;e++)a.push(0)},h=()=>{for(let e=2;e<=10;e++)for(const l of c)n.push(e+l);for(const e of i)for(const l of c)n.push(e+l);n=(e=>e.sort(()=>Math.random()-.5))(n)},d=()=>{if(n.length===0)throw"El deck esta vacio";return n.pop()},b=t=>{let e=t.slice(0,t.length-1);return isNaN(e)?e==="A"?11:10:parseInt(e)};function u(t,e){return a[e]=a[e]+b(t),s[e].textContent=a[e],a[e]}function f(t,e){let l=document.createElement("img");l.src=`/img/cartas/${t}.png`,p[e].appendChild(l)}const g=t=>{let e=0;do{let l=d();if(e=u(l,a.length-1),f(l,a.length-1),t>21)break}while(e<t&&t<21);setTimeout(()=>{t===21?alert("El jugador 1 gano"):t>21?alert("La computadora gano"):t===e?alert("El juego termino en empate"):e>t&&e<=21?alert("La computadora gano"):t<=21&&e>21&&alert("Gano el jugador")},50)};function C(){let t=d(),e=u(t,0);f(t,0),e>21?(r.disabled=!0,o.disabled=!0,g(e)):e==21&&(r.disabled=!0,o.disabled=!0)}r.addEventListener("click",()=>{C()}),o.addEventListener("click",()=>{r.disabled=!0,o.disabled=!0,g(a[0])}),m.addEventListener("click",()=>{window.location.reload()}),y()})();
